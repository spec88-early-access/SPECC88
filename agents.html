<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SPEC88 ‚Ä¢ Agents</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root { --bg:#090E16; --bg2:#0A2540; --accent:#2EF7D0; --muted:rgba(255,255,255,.72); }
    *{box-sizing:border-box}
    body{font-family:'Inter',system-ui,Arial;background:radial-gradient(1300px 900px at 10% -10%,#112B4E,var(--bg2)) no-repeat,var(--bg);color:#fff}
    .glass{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);backdrop-filter:saturate(160%) blur(10px)}
    .soft{box-shadow:0 10px 40px rgba(0,0,0,.35)}
    .accent{background:linear-gradient(135deg,var(--accent),#86FFE8);color:#071523}
    .muted{color:var(--muted)}
    .badge{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14)}
    .code{font-family:ui-monospace,Menlo,Consolas,monospace}
    .copy{cursor:pointer}
    a.foot{color:#9fd;opacity:.25;text-decoration:none}
    a.foot:hover{opacity:.6}
  </style>
</head>
<body>

  <!-- Header -->
  <header class="sticky top-0 z-30 border-b border-white/10 bg-black/30 backdrop-blur">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-3">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-2xl accent grid place-items-center font-extrabold">S</div>
        <div class="text-lg font-semibold tracking-tight" data-i18n="title">SPEC88 ‚Ä¢ Agents</div>
        <span class="hidden md:inline text-xs rounded-full border border-white/10 bg-white/10 px-2.5 py-1 ml-2" data-i18n="tagline">Build tools in minutes</span>
      </div>
      <div class="flex items-center gap-2">
        <select id="langSel" class="glass rounded-xl px-2 py-1 text-sm">
          <option value="en">EN</option>
          <option value="de">DE</option>
          <option value="ru">RU</option>
        </select>
        <a href="./" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10" data-i18n="back">‚Üê Back to landing</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 pt-10 pb-6">
    <div class="grid gap-6 md:grid-cols-5">
      <div class="md:col-span-3">
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
          <span data-i18n="hero_a">Build</span> <span class="text-[var(--accent)]">AI Agents</span> <span data-i18n="hero_b">for your business in minutes</span>
        </h1>
        <p class="muted mt-3 max-w-2xl" data-i18n="hero_sub">
          Describe the outcome once. SPEC88 plans capabilities, rules & deliverables ‚Äî from forms and emails to landing snippets and chat flows.
        </p>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="badge rounded-full px-2.5 py-1 text-xs text-white/80" data-i18n="pill_forms">Forms</span>
          <span class="badge rounded-full px-2.5 py-1 text-xs text-white/80" data-i18n="pill_emails">Email Sequences</span>
          <span class="badge rounded-full px-2.5 py-1 text-xs text-white/80" data-i18n="pill_pages">Landing Snippets</span>
          <span class="badge rounded-full px-2.5 py-1 text-xs text-white/80" data-i18n="pill_chat">Chat Scripts</span>
          <span class="badge rounded-full px-2.5 py-1 text-xs text-white/80" data-i18n="pill_plan">Workflow Plans</span>
        </div>
      </div>

      <!-- Prompt Coach (immer in aktueller Sprache, kein Deutsch-Mix mehr) -->
      <div class="md:col-span-2 glass soft rounded-2xl p-4">
        <div class="text-sm font-semibold text-white/80 mb-2" data-i18n="coach_title">Prompt Coach</div>
        <div class="text-sm">
          <div class="border-l-4 border-[var(--accent)] pl-3">
            <p class="mb-2"><b>1)</b> <u data-i18n="coach_outcome_u">Outcome</u>: <span data-i18n="coach_outcome">what must happen?</span></p>
            <p class="mb-2"><b>2)</b> <u data-i18n="coach_caps_u">Capabilities</u>: <span data-i18n="coach_caps">what skills the agent needs (freeform)</span></p>
            <p class="mb-2"><b>3)</b> <u data-i18n="coach_rules_u">Constraints</u>: <span data-i18n="coach_rules">rules, tone, compliance, limits</span></p>
            <p class="mb-0"><b>4)</b> <u data-i18n="coach_deliv_u">Deliverables</u>: <span data-i18n="coach_deliv">what to produce (UI, emails, docs‚Ä¶)</span></p>
          </div>
          <p class="muted mt-3" data-i18n="coach_tip">
            Tip: if wording is hard, ask any AI assistant to draft a structured prompt ‚Äî then paste it here.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Main: simple 1-page builder -->
  <main class="mx-auto max-w-7xl px-4 pb-12 grid gap-6 lg:grid-cols-5">
    <!-- Builder -->
    <section class="lg:col-span-3 glass soft rounded-2xl p-5">
      <div class="flex items-center justify-between mb-2">
        <h2 class="text-lg font-semibold text-white/80" data-i18n="builder_title">Create your Agent</h2>
        <div class="text-xs muted" data-i18n="builder_note">Local preview (no server calls)</div>
      </div>

      <div class="grid gap-4">
        <!-- Quick Presets (nur zur Inspiration; Agent bleibt universell) -->
        <div>
          <label class="block text-xs uppercase tracking-wide text-white/60 mb-2" data-i18n="preset_label">Quick presets</label>
          <div class="grid sm:grid-cols-3 gap-2">
            <button class="preset glass rounded-xl px-3 py-2 text-left hover:bg-white/10" data-kind="reservations">‚òï <span data-i18n="preset_res">Reservations</span></button>
            <button class="preset glass rounded-xl px-3 py-2 text-left hover:bg-white/10" data-kind="website">üñ• <span data-i18n="preset_site">Website Helper</span></button>
            <button class="preset glass rounded-xl px-3 py-2 text-left hover:bg-white/10" data-kind="leads">üß≠ <span data-i18n="preset_leads">Lead Qualification</span></button>
          </div>
        </div>

        <!-- Identity -->
        <div class="grid md:grid-cols-3 gap-3">
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1" data-i18n="biz_label">Business / Project</label>
            <input id="biz" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="Your business"/>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1" data-i18n="domain_label">Domain</label>
            <input id="domain" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="e.g., caf√©, agency, ecom"/>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1" data-i18n="contact_label">Contact (optional)</label>
            <input id="email" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="you@business.com"/>
          </div>
        </div>

        <!-- Core spec -->
        <div>
          <label class="block text-xs uppercase tracking-wide text-white/60 mb-1"><span data-i18n="outcome_label">Outcome</span> <span class="muted">(1‚Äì2 sentences)</span></label>
          <textarea id="outcome" rows="3" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="Launch a reservation + waitlist system with email confirmations and double-booking prevention."></textarea>
        </div>
        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1" data-i18n="caps_label">Capabilities (freeform)</label>
            <textarea id="capabilities" rows="4" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="parse forms ‚Ä¢ generate UI ‚Ä¢ draft emails ‚Ä¢ outline flows ‚Ä¢ call APIs"></textarea>
          </div>
          <div>
            <label class="block text-xs uppercase tracking-wide text-white/60 mb-1" data-i18n="rules_label">Constraints (rules & tone)</label>
            <textarea id="constraints" rows="4" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="GDPR-compliant ‚Ä¢ no PII storage ‚Ä¢ friendly & concise tone"></textarea>
          </div>
        </div>
        <div>
          <label class="block text-xs uppercase tracking-wide text-white/60 mb-1" data-i18n="deliv_label">Deliverables (freeform)</label>
          <textarea id="deliverables" rows="3" class="w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2" placeholder="UI snippet ‚Ä¢ workflow plan ‚Ä¢ 3-email sequence ‚Ä¢ deploy checklist"></textarea>
        </div>

        <!-- Compose / Preview (kein Hinweis auf ChatGPT, keine externen Links) -->
        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <button id="compose" class="accent rounded-xl px-4 py-2 font-semibold hover:opacity-90 transition" data-i18n="btn_compose">Compose Prompt</button>
            <span id="status" class="ml-3 text-sm muted"></span>
            <textarea id="prompt" rows="10" class="mt-2 w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 code" placeholder='Structured prompt will appear here‚Ä¶'></textarea>
            <div class="mt-2 flex gap-2">
              <button data-copy="#prompt" class="copy glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10" data-i18n="btn_copy">Copy Prompt</button>
            </div>
          </div>
          <div>
            <button id="previewBtn" class="accent rounded-xl px-4 py-2 font-semibold hover:opacity-90 transition" data-i18n="btn_preview">Generate Preview</button>
            <div id="saveLoad" class="mt-2 flex flex-wrap gap-2">
              <button id="save" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10" data-i18n="btn_save">Save Agent</button>
              <button id="exportJson" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10" data-i18n="btn_export_json">Export JSON</button>
              <button id="exportHtml" class="glass rounded-xl px-3 py-1.5 text-sm hover:bg-white/10" data-i18n="btn_export_html">Export HTML</button>
            </div>
          </div>
        </div>

        <!-- PREVIEW -->
        <div id="preview" class="hidden mt-4 grid gap-4">
          <div class="glass rounded-2xl p-4">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-white/80" data-i18n="sum_title">Agent Plan (Summary)</div>
              <button data-copy="#sum" class="copy glass rounded-md px-2 py-1 text-xs hover:bg-white/10" data-i18n="btn_copy">Copy</button>
            </div>
            <pre id="sum" class="code text-sm whitespace-pre-wrap"></pre>
          </div>

          <div class="glass rounded-2xl p-4">
            <div class="text-sm font-semibold text-white/80 mb-2" data-i18n="steps_title">Phases & Steps</div>
            <ol id="steps" class="list-decimal pl-5 text-sm"></ol>
          </div>

          <div id="uiWrap" class="glass rounded-2xl p-4">
            <div class="flex items-center justify-between">
              <div class="text-sm font-semibold text-white/80" data-i18n="ui_title">UI Snippet (HTML)</div>
              <button data-copy="#uiHtml" class="copy glass rounded-md px-2 py-1 text-xs hover:bg-white/10" data-i18n="btn_copy">Copy</button>
            </div>
            <div id="uiMount" class="mt-3"></div>
            <textarea id="uiHtml" class="mt-3 w-full code text-xs rounded-xl border border-white/10 bg-black/30 p-2" rows="6" readonly></textarea>
          </div>

          <div id="docWrap" class="glass rounded-2xl p-4">
            <div class="text-sm font-semibold text-white/80 mb-2" data-i18n="doc_title">Documentation Draft</div>
            <div id="doc" class="text-sm leading-relaxed"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Saved -->
    <aside class="lg:col-span-2 grid gap-6">
      <section class="glass soft rounded-2xl p-5">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold text-white/90" data-i18n="saved_title">Saved Agents</h3>
          <button id="clearAll" class="glass rounded-md px-2 py-1 text-xs hover:bg-white/10" data-i18n="btn_clear">Clear all</button>
        </div>
        <div id="saved" class="mt-3 grid gap-3"></div>
      </section>
    </aside>
  </main>

  <!-- Footer (diskreter, neutraler Hinweis) -->
  <footer class="mx-auto max-w-7xl px-4 pb-10 text-center text-xs text-white/60">
    ¬© <span id="year"></span> SPEC88 ‚Äì Agents.
    <span class="block mt-1">
      <a class="foot" href="#" title="Powered by modern AI models via server integration (not shown on this demo).">models</a>
    </span>
  </footer>

  <script>
    // ===== i18n =====
    const T={
      en:{
        title:"SPEC88 ‚Ä¢ Agents",tagline:"Build tools in minutes",back:"‚Üê Back to landing",
        hero_a:"Build",hero_b:"for your business in minutes",
        hero_sub:"Describe the outcome once. SPEC88 plans capabilities, rules & deliverables ‚Äî from forms and emails to landing snippets and chat flows.",
        pill_forms:"Forms",pill_emails:"Email Sequences",pill_pages:"Landing Snippets",pill_chat:"Chat Scripts",pill_plan:"Workflow Plans",
        coach_title:"Prompt Coach",coach_outcome_u:"Outcome",coach_outcome:"what must happen?",coach_caps_u:"Capabilities",coach_caps:"what skills the agent needs (freeform)",
        coach_rules_u:"Constraints",coach_rules:"rules, tone, compliance, limits",coach_deliv_u:"Deliverables",coach_deliv:"what to produce (UI, emails, docs‚Ä¶)",coach_tip:"Tip: if wording is hard, ask any AI assistant to draft a structured prompt ‚Äî then paste it here.",
        builder_title:"Create your Agent",builder_note:"Local preview (no server calls)",
        preset_label:"Quick presets",preset_res:"Reservations",preset_site:"Website Helper",preset_leads:"Lead Qualification",
        biz_label:"Business / Project",domain_label:"Domain",contact_label:"Contact (optional)",
        outcome_label:"Outcome",caps_label:"Capabilities (freeform)",rules_label:"Constraints (rules & tone)",deliv_label:"Deliverables (freeform)",
        btn_compose:"Compose Prompt",btn_preview:"Generate Preview",btn_copy:"Copy",btn_save:"Save Agent",btn_export_json:"Export JSON",btn_export_html:"Export HTML",btn_clear:"Clear all",
        sum_title:"Agent Plan (Summary)",steps_title:"Phases & Steps",ui_title:"UI Snippet (HTML)",doc_title:"Documentation Draft",
      },
      de:{
        title:"SPEC88 ‚Ä¢ Agents",tagline:"Tools in Minuten bauen",back:"‚Üê Zur√ºck zur Landing",
        hero_a:"Baue",hero_b:"f√ºr dein Business in Minuten",
        hero_sub:"Beschreibe das Ziel einmal. SPEC88 plant F√§higkeiten, Regeln & Ergebnisse ‚Äî von Formularen und E-Mails bis Landing-Snippets und Chat-Flows.",
        pill_forms:"Formulare",pill_emails:"E-Mail-Sequenzen",pill_pages:"Landing-Snippets",pill_chat:"Chat-Scripts",pill_plan:"Workflow-Pl√§ne",
        coach_title:"Prompt Coach",coach_outcome_u:"Outcome",coach_outcome:"was muss passieren?",coach_caps_u:"Capabilities",coach_caps:"welche F√§higkeiten n√∂tig (frei)",
        coach_rules_u:"Constraints",coach_rules:"Regeln, Ton, Compliance, Limits",coach_deliv_u:"Deliverables",coach_deliv:"was erzeugt werden soll (UI, E-Mails, Doku‚Ä¶)",coach_tip:"Tipp: Wenn die Formulierung schwerf√§llt, lass dir kurz einen strukturierten Prompt entwerfen und f√ºge ihn hier ein.",
        builder_title:"Erstelle deinen Agent",builder_note:"Lokale Vorschau (keine Server-Calls)",
        preset_label:"Schnell-Vorlagen",preset_res:"Reservierungen",preset_site:"Website-Helfer",preset_leads:"Lead-Qualifizierung",
        biz_label:"Business / Projekt",domain_label:"Dom√§ne",contact_label:"Kontakt (optional)",
        outcome_label:"Outcome",caps_label:"F√§higkeiten (frei)",rules_label:"Regeln & Ton",deliv_label:"Ergebnisse (frei)",
        btn_compose:"Prompt bauen",btn_preview:"Vorschau erzeugen",btn_copy:"Kopieren",btn_save:"Agent speichern",btn_export_json:"JSON exportieren",btn_export_html:"HTML exportieren",btn_clear:"Alles l√∂schen",
        sum_title:"Agent-Plan (Kurzfassung)",steps_title:"Phasen & Schritte",ui_title:"UI-Snippet (HTML)",doc_title:"Dokumentations-Entwurf",
      },
      ru:{
        title:"SPEC88 ‚Ä¢ Agents",tagline:"–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∑–∞ –º–∏–Ω—É—Ç—ã",back:"‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥",
        hero_a:"–°–æ–∑–¥–∞–≤–∞–π—Ç–µ",hero_b:"–¥–ª—è –±–∏–∑–Ω–µ—Å–∞ –∑–∞ –º–∏–Ω—É—Ç—ã",
        hero_sub:"–û–ø–∏—à–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω —Ä–∞–∑. SPEC88 –ø–ª–∞–Ω–∏—Ä—É–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, –ø—Ä–∞–≤–∏–ª–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Äî –æ—Ç —Ñ–æ—Ä–º –∏ –ø–∏—Å–µ–º –¥–æ –±–ª–æ–∫–æ–≤ –ª–µ–Ω–¥–∏–Ω–≥–∞ –∏ —á–∞—Ç-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.",
        pill_forms:"–§–æ—Ä–º—ã",pill_emails:"Email-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",pill_pages:"–ë–ª–æ–∫–∏ –ª–µ–Ω–¥–∏–Ω–≥–∞",pill_chat:"–ß–∞—Ç-—Å–∫—Ä–∏–ø—Ç—ã",pill_plan:"–ü–ª–∞–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤",
        coach_title:"Prompt Coach",coach_outcome_u:"Outcome",coach_outcome:"—á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏?",coach_caps_u:"Capabilities",coach_caps:"–∫–∞–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –Ω—É–∂–Ω—ã (—Å–≤–æ–±–æ–¥–Ω–æ)",
        coach_rules_u:"Constraints",coach_rules:"–ø—Ä–∞–≤–∏–ª–∞, —Å—Ç–∏–ª—å, –∫–æ–º–ø–ª–∞–µ–Ω—Å, –ª–∏–º–∏—Ç—ã",coach_deliv_u:"Deliverables",coach_deliv:"—á—Ç–æ –ø–æ–ª—É—á–∏—Ç—å (UI, –ø–∏—Å—å–º–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è‚Ä¶)",coach_tip:"–ï—Å–ª–∏ —Å–ª–æ–∂–Ω–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å ‚Äî –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –ò–ò —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ —Å—é–¥–∞.",
        builder_title:"–°–æ–∑–¥–∞–π—Ç–µ –∞–≥–µ–Ω—Ç–∞",builder_note:"–õ–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–µ–≤—å—é (–±–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤)",
        preset_label:"–ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã",preset_res:"–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",preset_site:"–ü–æ–º–æ—â–Ω–∏–∫ —Å–∞–π—Ç–∞",preset_leads:"–ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏–¥–æ–≤",
        biz_label:"–ë–∏–∑–Ω–µ—Å / –ü—Ä–æ–µ–∫—Ç",domain_label:"–î–æ–º–µ–Ω",contact_label:"–ö–æ–Ω—Ç–∞–∫—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
        outcome_label:"Outcome",caps_label:"–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Å–≤–æ–±–æ–¥–Ω–æ)",rules_label:"–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–ø—Ä–∞–≤–∏–ª–∞ –∏ —Å—Ç–∏–ª—å)",deliv_label:"–†–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å–≤–æ–±–æ–¥–Ω–æ)",
        btn_compose:"–°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–º–ø—Ç",btn_preview:"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–≤—å—é",btn_copy:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å",btn_save:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",btn_export_json:"–≠–∫—Å–ø–æ—Ä—Ç JSON",btn_export_html:"–≠–∫—Å–ø–æ—Ä—Ç HTML",btn_clear:"–û—á–∏—Å—Ç–∏—Ç—å",
        sum_title:"–ü–ª–∞–Ω –∞–≥–µ–Ω—Ç–∞ (–∫—Ä–∞—Ç–∫–æ)",steps_title:"–§–∞–∑—ã –∏ —à–∞–≥–∏",ui_title:"UI-—Ñ—Ä–∞–≥–º–µ–Ω—Ç (HTML)",doc_title:"–ß–µ—Ä–Ω–æ–≤–∏–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏",
      }
    };

    function pickLang(){
      const url=new URL(location.href); const q=url.searchParams.get('lang');
      const stored=localStorage.getItem('spec88_lang');
      const sys=(navigator.language||'en').slice(0,2).toLowerCase();
      return (q&&T[q])?q:(stored&&T[stored])?stored:(T[sys]?sys:'en');
    }

    function applyLang(lang){
      document.documentElement.lang=lang;
      // map all [data-i18n]
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k=el.getAttribute('data-i18n'); if(T[lang][k]) el.textContent=T[lang][k];
      });
      // sync selector + persist
      const sel=document.getElementById('langSel'); sel.value=lang;
      localStorage.setItem('spec88_lang',lang);
      // placeholders language-sensitive? keep English style by default; content stays neutral
    }

    (function initLang(){
      const l=pickLang(); applyLang(l);
      document.getElementById('langSel').addEventListener('change',(e)=>{
        const lang=e.target.value; applyLang(lang);
        const u=new URL(location.href); u.searchParams.set('lang',lang); history.replaceState(null,'',u.toString());
      });
    })();

    // ===== UI helpers =====
    const $=(s)=>document.querySelector(s), $$=(s)=>Array.from(document.querySelectorAll(s));
    const set=(el,txt)=>el.textContent=txt; const html=(el,t)=>el.innerHTML=t;
    const val=(id)=>document.getElementById(id).value.trim();
    const lines=(id)=>val(id).split('\n').map(s=>s.trim()).filter(Boolean);
    const uid=()=>Math.random().toString(36).slice(2,10);
    const dl=(name,txt)=>{const b=new Blob([txt],{type:'text/plain'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download=name;a.click();setTimeout(()=>URL.revokeObjectURL(a.href),800);};
    document.getElementById('year').textContent=new Date().getFullYear();

    // Presets (f√ºllen nur Felder; nichts Hartes)
    $$('.preset').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const k=btn.dataset.kind;
        if(k==='reservations'){
          $('#outcome').value='Launch a reservation & waitlist system with email confirmations and double-booking prevention.';
          $('#capabilities').value='parse forms ‚Ä¢ generate UI ‚Ä¢ draft confirmation emails ‚Ä¢ validate slots';
          $('#constraints').value='GDPR-compliant ‚Ä¢ friendly & concise tone';
          $('#deliverables').value='UI snippet ‚Ä¢ workflow plan ‚Ä¢ 3-email sequence ‚Ä¢ deploy checklist';
        } else if(k==='website'){
          $('#outcome').value='Capture service requests and generate quotes automatically with a follow-up email.';
          $('#capabilities').value='collect inputs ‚Ä¢ generate landing hero copy ‚Ä¢ draft emails ‚Ä¢ simple pricing logic';
          $('#constraints').value='professional tone ‚Ä¢ clear CTAs';
          $('#deliverables').value='UI snippet ‚Ä¢ hero copy ‚Ä¢ 2-email sequence';
        } else if(k==='leads'){
          $('#outcome').value='Qualify leads by budget, team size, timeline, and pain points; output a score.';
          $('#capabilities').value='ask clarifying questions ‚Ä¢ compute readiness score ‚Ä¢ prepare intro email';
          $('#constraints').value='concise tone ‚Ä¢ no jargon';
          $('#deliverables').value='UI snippet ‚Ä¢ spreadsheet schema ‚Ä¢ intro email';
        }
        window.scrollTo({top:0,behavior:'smooth'});
      });
    });

    // Compose Prompt (keine Erw√§hnung externer Modelle im UI)
    $('#compose').addEventListener('click',()=>{
      const data={
        business:{name:val('biz')||'Business',domain:val('domain')||'general',contact:val('email')||''},
        outcome:val('outcome')||'Define the concrete outcome.',
        capabilities:val('capabilities')||'freeform abilities',
        constraints:val('constraints')||'rules & limits',
        deliverables:val('deliverables')||'freeform outputs',
        model_display:'gpt-4.1-mini', tone_display:'Professional'
      };
      $('#prompt').value=JSON.stringify(data,null,2);
      set($('#status'),'Prompt composed.');
    });

    // Copy helper
    document.addEventListener('click',(e)=>{
      const btn=e.target.closest('.copy'); if(!btn) return;
      const target=document.querySelector(btn.getAttribute('data-copy'));
      navigator.clipboard.writeText(target.value||target.textContent||'').then(()=>{
        const old=btn.textContent; btn.textContent='Copied!'; setTimeout(()=>btn.textContent=old,1200);
      });
    });

    // Generate Preview (deterministisch, kein Backend)
    $('#previewBtn').addEventListener('click',()=>{
      const biz=val('biz')||'Business', domain=val('domain')||'general';
      const outcome=val('outcome')||'Outcome';
      const cap=val('capabilities')||'', cons=val('constraints')||'', del=val('deliverables')||'';

      set($('#status'),'Generating preview‚Ä¶');

      // Summary
      set($('#sum'),
`Business: ${biz} (${domain})
Outcome: ${outcome}
Capabilities: ${cap||'(freeform)'}
Constraints: ${cons||'(none)'}
Deliverables: ${del||'(freeform)'}
‚Äî Preview is locally generated (no external calls).`);

      // Steps (klar & kurz)
      const phases=[
        'Intent & entity parsing',
        'Capability mapping ‚Üí sub-tasks',
        'Constraint checks (compliance, tone, fallbacks)',
        'Draft deliverables (UI / emails / docs / flows)',
        'Review & refine',
        'Export / handoff'
      ];
      const stepsEl=$('#steps'); stepsEl.innerHTML=''; phases.forEach(s=>{const li=document.createElement('li'); li.textContent=s; stepsEl.appendChild(li);});

      // UI snippet
      const ui=`
<div class="p-4 rounded-xl border border-white/10 bg-black/20">
  <div class="text-2xl font-extrabold mb-1">${biz} ‚Äî Agent</div>
  <p class="text-white/70 mb-3">${outcome}</p>
  <form class="grid gap-2">
    <input class="rounded-lg border border-white/10 bg-black/30 px-3 py-2" placeholder="Your request"/>
    <button class="inline-block rounded-lg px-4 py-2 font-semibold" style="background:linear-gradient(135deg,#2EF7D0,#86FFE8);color:#071523">Run Agent</button>
  </form>
</div>`;
      html($('#uiMount'),ui); $('#uiHtml').value=ui;

      // Doc draft
      html($('#doc'),`
<p><b>Purpose:</b> ${outcome}</p>
<p><b>Capabilities:</b> ${cap||'‚Äî'}</p>
<p><b>Constraints:</b> ${cons||'‚Äî'}</p>
<p><b>Deliverables:</b> ${del||'‚Äî'}</p>
<p><b>Notes:</b> Validate inputs, handle failure paths, avoid storing PII, keep logs minimal.</p>`);

      $('#preview').classList.remove('hidden');
      set($('#status'),'Preview ready.');
    });

    // Save / Load / Export
    const KEY='spec88_agents_simple_v1';
    const load=()=>{try{return JSON.parse(localStorage.getItem(KEY)||'[]')}catch{return[]}};
    const save=(a)=>localStorage.setItem(KEY,JSON.stringify(a));
    function paintSaved(){
      const list=load(); const wrap=$('#saved'); wrap.innerHTML='';
      if(list.length===0){ wrap.innerHTML='<div class="text-sm muted">No agents saved yet.</div>'; return; }
      list.forEach(a=>{
        const card=document.createElement('div'); card.className='glass rounded-xl p-3';
        card.innerHTML=`<div class="flex items-start justify-between gap-2">
          <div><div class="font-semibold">${a.name}</div>
          <div class="text-xs muted">${new Date(a.ts).toLocaleString()}</div></div>
          <div class="flex gap-2">
            <button data-id="${a.id}" class="load glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Load</button>
            <button data-id="${a.id}" class="del glass rounded-md px-2 py-1 text-xs hover:bg-white/10">Delete</button>
          </div></div>
          <div class="mt-2 text-xs muted line-clamp-3">${(a.prompt||'').slice(0,220)}‚Ä¶</div>`;
        wrap.appendChild(card);
      });
    }
    $('#save').addEventListener('click',()=>{
      const name=(val('biz')||'Agent'); const item={id:uid(),ts:Date.now(),name,prompt:$('#prompt').value};
      const arr=load(); arr.unshift(item); save(arr); paintSaved();
    });
    document.addEventListener('click',(e)=>{
      if(e.target.matches('.del')){ const id=e.target.getAttribute('data-id'); save(load().filter(x=>x.id!==id)); paintSaved(); }
      if(e.target.matches('.load')){ const id=e.target.getAttribute('data-id'); const a=load().find(x=>x.id===id); if(a){ $('#prompt').value=a.prompt||''; window.scrollTo({top:0,behavior:'smooth'});} }
    });
    $('#clearAll').addEventListener('click',()=>{ save([]); paintSaved(); });

    $('#exportJson').addEventListener('click',()=>{
      const data={ business:val('biz'), domain:val('domain'), contact:val('email'),
        outcome:val('outcome'), capabilities:val('capabilities'), constraints:val('constraints'), deliverables:val('deliverables'),
        prompt:$('#prompt').value };
      dl('spec88_agent.json', JSON.stringify(data,null,2));
    });
    $('#exportHtml').addEventListener('click',()=>{
      const bundle=`<!-- UI -->\n${$('#uiHtml').value||''}\n\n<!-- PLAN -->\n${$('#sum').textContent||''}`;
      dl('spec88_outputs.html', bundle);
    });

    // init
    paintSaved();
  </script>
</body>
</html>
